webpackJsonp([32],{526:function(e,t,a){a(727);var o=a(196)(a(583),a(675),"data-v-012aff4c",null);e.exports=o.exports},583:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{loading:!0,channelOptions:"",sform:{userName:"",gram:"",price:"",amount:"",poundage:"",total:""},url:"goldRedeemConf/selectByGoldRedeemConfEnable",handleUrl:"goldRedeemConf/calculationGoldRedeem",submitUrl:"goldRedeem/excelGoldRedeem",checkUrl:"goldRedeem/checkUserName",addUrl:"goldRedeem/saveGoldRedeem",formLabelWidth:"120px",poundagePercent:"",redeemPrice:"",redeemGram:"",redeemUserName:"",redeemAccountId:"",redeemUserId:""}},created:function(){var e=this;axios.post(this.url).then(function(t){1001==t.data.code&&(e.redeemPrice=t.data.data.price,e.poundagePercent=t.data.data.poundagePercent,e.sform.price=t.data.data.price,e.sform={userName:"",gram:"",price:t.data.data.price,amount:"",poundage:"",total:""})}).catch(function(e){})},methods:{handle:function(e){console.log(e);var t=new URLSearchParams;t.append("price",e.price),t.append("gram",e.gram),t.append("poundagePercent",this.poundagePercent);var a=this;axios.post(this.handleUrl,t).then(function(e){1001==e.data.code?(a.sform.amount=e.data.data.amount,a.sform.poundage=e.data.data.poundage,a.sform.total=e.data.data.total):(a.$message.error("网络错误"),a.dialogFormVisible=!1)}).catch(function(e){console.log(e)})},checkUserName:function(e){console.log(e);var t=new URLSearchParams;t.append("userName",e.userName);var a=this;axios.post(this.checkUrl,t).then(function(e){1001==e.data.code?(a.redeemAccountId=e.data.data.id,a.redeemUserId=e.data.data.UserID):(a.$message.error("用户名不存在！"),a.dialogFormVisible=!1)}).catch(function(e){console.log(e)})},onSubmit:function(e){console.log(this.newform);var t=new URLSearchParams;t.append("userIdString",this.redeemUserId),t.append("gram",this.sform.gram),t.append("amount",(100*Number(this.sform.total)).toFixed(0)),t.append("price",this.sform.price),t.append("poundage",(100*Number(this.sform.poundage)).toFixed(0)),t.append("accountId",this.redeemAccountId),t.append("userName",this.sform.userName);var a=this;axios.post(this.addUrl,t).then(function(e){1e3==e.data.code?(a.$message({message:"添加成功",type:"success"}),setTimeout(function(){window.location.reload()},2e3)):(a.$message.error("网络错误"),a.dialogFormVisible=!1)}).catch(function(e){console.log(e)})}}}},612:function(e,t,a){t=e.exports=a(135)(void 0),t.push([e.i,"",""])},675:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"content"}},[e._m(0,!1,!1),e._v(" "),a("div",{staticClass:"container-fluid"},[a("el-form",{ref:"sform",attrs:{model:e.sform,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"赎回价格：",prop:"price","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small","auto-complete":"off",disabled:!0},model:{value:e.sform.price,callback:function(t){e.$set(e.sform,"price",t)},expression:"sform.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"赎回克重：",prop:"gram","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small","auto-complete":"off"},on:{change:function(t){e.handle(e.sform)}},model:{value:e.sform.gram,callback:function(t){e.$set(e.sform,"gram",t)},expression:"sform.gram"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"赎回金额：",prop:"amount","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",disabled:!0},model:{value:e.sform.amount,callback:function(t){e.$set(e.sform,"amount",t)},expression:"sform.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所需手续费：",prop:"poundage","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",disabled:!0},model:{value:e.sform.poundage,callback:function(t){e.$set(e.sform,"poundage",t)},expression:"sform.poundage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总计：",prop:"total","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",disabled:!0},model:{value:e.sform.total,callback:function(t){e.$set(e.sform,"total",t)},expression:"sform.total"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值账号：",prop:"userName","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small"},on:{blur:function(t){e.checkUserName(e.sform)}},model:{value:e.sform.userName,callback:function(t){e.$set(e.sform,"userName",t)},expression:"sform.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[a("div",{staticStyle:{color:"red"}},[e._v("提示：填写赎回克重自动计算赎回金额、所需手续费、总计。")])]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.onSubmit(e.sform)}}},[e._v("确定")])],1)],1)],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"content-header"}},[a("div",{attrs:{id:"breadcrumb"}},[a("a",{staticClass:"tip-bottom",attrs:{href:"javascript:;",title:"Go to Home"}},[a("i",{staticClass:"icon-home"}),e._v(" 黄金赎回")]),e._v(" "),a("a",{staticClass:"current",attrs:{href:"javascript:;"}},[e._v("赎回计算")])]),e._v(" "),a("h1")])}]}},727:function(e,t,a){var o=a(612);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(197)("697ddd9a",o,!0)}});