webpackJsonp([1],{540:function(t,e,o){o(725);var i=o(196)(o(593),o(677),"data-v-1857e77e",null);t.exports=i.exports},551:function(t,e,o){t.exports={default:o(553),__esModule:!0}},552:function(t,e,o){"use strict";e.__esModule=!0;var i=o(551),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,o){return e in t?(0,a.default)(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},553:function(t,e,o){o(554);var i=o(63).Object;t.exports=function(t,e,o){return i.defineProperty(t,e,o)}},554:function(t,e,o){var i=o(86);i(i.S+i.F*!o(49),"Object",{defineProperty:o(50).f})},593:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(552),a=o.n(i);e.default={data:function(){return{loading:!0,form:{username:"",region:"",delivery:!1,type:[],resource:"",desc:""},newformEdit:{contract:"",buyPercent:"",pointCount:"",maxBuyCountPerDay:"",maxPositionCount:"",minGramPerOrder:"",name:"",stopProfitSet:"",volatility:""},url:"资讯goldRightDealConf/getAllGoldRight",editUrl:"资讯goldRightDealConf/modifyGoldRightDealConf",forceUrl:"资讯goldRightDealConf/force-close-repository",tableData:[],dialogFormVisible:!1,dialogFormVisibleEdit:!1,dialogFormVisibleOpenTrading:!1,dialogFormVisibleCloseTrading:!1,dialogFormVisibleTrading:!1,dialogFormVisibleForceTrading:!1,formLabelWidth:"120px",userId:"",status:""}},created:function(){this.loadData()},methods:a()({loadData:function(){var t=this;new URLSearchParams;axios.post(this.url).then(function(e){t.tableData=e.data.data.list}).catch(function(t){})},confirmDialog:function(t,e){0===t?this.dialogFormVisibleTrading=!0:1==t?this.dialogFormVisibleOpenTrading=!0:2==t?this.dialogFormVisibleCloseTrading=!0:3==t&&(this.dialogFormVisibleForceTrading=!0),this.row=e},handleEdit:function(t,e){this.newformEdit={contract:e.contract,buyPercent:e.buyPercent,pointCount:e.pointCount,maxBuyCountPerDay:e.maxBuyCountPerDay,maxPositionCount:e.maxPositionCount,minGramPerOrder:e.minGramPerOrder,name:e.name,stopProfitSet:100*e.stopProfitSet,volatility:e.volatility,stopLossSet:100*e.stopLossSet,minLossPercent:100*e.minLossPercent,volatilityProfitLoss:e.volatilityProfitLoss},this.status=e.status,this.id=e.id,this.dialogFormVisibleEdit=!0},confirmEdit:function(){var t=new URLSearchParams;t.append("name",this.newformEdit.name),t.append("contract",this.newformEdit.contract),t.append("buyPercent",this.newformEdit.buyPercent),t.append("pointCount",this.newformEdit.pointCount),t.append("maxBuyCountPerDay",this.newformEdit.maxBuyCountPerDay),t.append("maxPositionCount",this.newformEdit.maxPositionCount),t.append("minGramPerOrder",this.newformEdit.minGramPerOrder),t.append("stopProfitSet",this.newformEdit.stopProfitSet/100),t.append("volatility",this.newformEdit.volatility),t.append("stopLossSet",this.newformEdit.stopLossSet/100),t.append("minLossPercent",this.newformEdit.minLossPercent/100),t.append("volatilityProfitLoss",this.newformEdit.volatilityProfitLoss),t.append("id",this.id);var e=this;axios.post(this.editUrl,t).then(function(t){t.data.data?(e.$message({message:"修改成功",type:"success"}),e.dialogFormVisibleEdit=!1,e.loadData()):t.data.data?(e.dialogFormVisibleEdit=!1,e.$message.error("网络错误")):(e.$message({message:"修改失败",type:"warning"}),e.dialogFormVisibleEdit=!1)})},forceTrading:function(){var t=this;axios.post(this.forceUrl).then(function(e){e.data?(t.$message({message:"修改成功",type:"success"}),t.dialogFormVisibleForceTrading=!1,t.loadData()):e.data?(t.dialogFormVisibleForceTrading=!1,t.$message.error("网络错误")):(t.$message({message:"修改失败",type:"warning"}),t.dialogFormVisibleForceTrading=!1)})},closeTrading:function(){var t=new URLSearchParams,e=this;t.append("status",2),t.append("id",this.row.id),axios.post(this.editUrl,t).then(function(t){t.data.data?(e.$message({message:"修改成功",type:"success"}),e.dialogFormVisibleCloseTrading=!1,e.loadData()):t.data.data?(e.dialogFormVisibleCloseTrading=!1,e.$message.error("网络错误")):(e.$message({message:"修改失败",type:"warning"}),e.dialogFormVisibleCloseTrading=!1)})},openTrading:function(t){var e=new URLSearchParams,o=this;e.append("id",this.row.id),e.append("status",1),axios.post(this.editUrl,e).then(function(t){t.data.data?(o.$message({message:"修改成功",type:"success"}),o.dialogFormVisibleOpenTrading=!1,o.loadData()):t.data.data?(o.dialogFormVisibleOpenTrading=!1,o.$message.error("网络错误")):(o.$message({message:"修改失败",type:"warning"}),o.dialogFormVisibleOpenTrading=!1)})},convertstopLossSet:function(t){return 100*t.stopLossSet+"%"},convertminLossPercent:function(t){return 100*t.minLossPercent+"%"},convertstopProfitSet:function(t){return 100*t.stopProfitSet+"%"},convertvolatilityProfitLoss:function(t){return 100*t.volatilityProfitLoss+"%"},trading:function(){var t=new URLSearchParams,e=this;t.append("status",0),t.append("id",this.row.id),axios.post(this.editUrl,t).then(function(t){t.data.data?(e.$message({message:"修改成功",type:"success"}),e.dialogFormVisibleTrading=!1,e.loadData()):t.data.data?(e.dialogFormVisibleTrading=!1,e.$message.error("网络错误")):(e.$message({message:"修改失败",type:"warning"}),e.dialogFormVisibleTrading=!1)})},convertblowingUpSet:function(t){return 100*t.blowingUpSet+"%"}},"convertstopProfitSet",function(t){return 100*t.stopProfitSet+"%"})}},617:function(t,e,o){e=t.exports=o(135)(void 0),e.push([t.i,"",""])},677:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"content"}},[t._m(0,!1,!1),t._v(" "),o("div",{staticClass:"container-fluid"},[t._v("\n    金权规则设定\n      "),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[o("el-table-column",{attrs:{label:"产品名称",prop:"name",width:"160"}}),t._v(" "),o("el-table-column",{attrs:{label:"品种合约（克）",prop:"contract",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"买入金额",prop:"buyPercent",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{label:"点差",prop:"pointCount",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{label:"最小波动点数",prop:"volatility",width:"160"}}),t._v(" "),o("el-table-column",{attrs:{label:"单笔最小下单克重（克）",prop:"minGramPerOrder",width:"240"}}),t._v(" "),o("el-table-column",{attrs:{label:"最大持仓（克）",prop:"maxPositionCount",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"最大建仓次数",prop:"maxBuyCountPerDay",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"最大止损设置",prop:"stopLossSet",formatter:t.convertstopLossSet,width:"160"}}),t._v(" "),o("el-table-column",{attrs:{label:"最小止损设置",prop:"minLossPercent",formatter:t.convertminLossPercent,width:"160"}}),t._v(" "),o("el-table-column",{attrs:{label:"止盈设置",prop:"stopProfitSet",formatter:t.convertstopProfitSet,width:"120"}}),t._v(" "),o("el-table-column",{attrs:{label:"最小波动盈亏",prop:"volatilityProfitLoss",width:"160"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status||1==e.row.status?[o("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(o){t.confirmDialog(2,e.row)}}},[t._v("关闭交易")])]:t._e(),t._v(" "),0==e.row.status||2==e.row.status?[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){t.confirmDialog(1,e.row)}}},[t._v("开启交易")])]:t._e(),t._v(" "),1==e.row.status||2==e.row.status?[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){t.confirmDialog(0,e.row)}}},[t._v("正常交易")])]:t._e(),t._v(" "),o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"small"},on:{click:function(o){t.confirmDialog(3,e.row)}}},[t._v("强制平仓")])]}}])})],1)],1),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-dialog",{attrs:{title:"编辑",visible:t.dialogFormVisibleEdit},on:{"update:visible":function(e){t.dialogFormVisibleEdit=e}}},[o("el-form",{attrs:{model:t.newformEdit}},[o("el-form-item",{attrs:{label:"产品名称","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.name,callback:function(e){t.$set(t.newformEdit,"name",e)},expression:"newformEdit.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"品种合约","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.contract,callback:function(e){t.$set(t.newformEdit,"contract",e)},expression:"newformEdit.contract"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"买入金额","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.buyPercent,callback:function(e){t.$set(t.newformEdit,"buyPercent",e)},expression:"newformEdit.buyPercent"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"点差","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.pointCount,callback:function(e){t.$set(t.newformEdit,"pointCount",e)},expression:"newformEdit.pointCount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"最小波动点数","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.volatility,callback:function(e){t.$set(t.newformEdit,"volatility",e)},expression:"newformEdit.volatility"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"单笔最小下单克重","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.minGramPerOrder,callback:function(e){t.$set(t.newformEdit,"minGramPerOrder",e)},expression:"newformEdit.minGramPerOrder"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"最大持仓","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.maxPositionCount,callback:function(e){t.$set(t.newformEdit,"maxPositionCount",e)},expression:"newformEdit.maxPositionCount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"最大建仓次数","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.maxBuyCountPerDay,callback:function(e){t.$set(t.newformEdit,"maxBuyCountPerDay",e)},expression:"newformEdit.maxBuyCountPerDay"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"最大止损设置","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.stopLossSet,callback:function(e){t.$set(t.newformEdit,"stopLossSet",e)},expression:"newformEdit.stopLossSet"}}),t._v("%\n                ")],1),t._v(" "),o("el-form-item",{attrs:{label:"最小止损设置","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.minLossPercent,callback:function(e){t.$set(t.newformEdit,"minLossPercent",e)},expression:"newformEdit.minLossPercent"}}),t._v("%\n                ")],1),t._v(" "),o("el-form-item",{attrs:{label:"最小波动盈亏","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.volatilityProfitLoss,callback:function(e){t.$set(t.newformEdit,"volatilityProfitLoss",e)},expression:"newformEdit.volatilityProfitLoss"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"止盈设置","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.newformEdit.stopProfitSet,callback:function(e){t.$set(t.newformEdit,"stopProfitSet",e)},expression:"newformEdit.stopProfitSet"}}),t._v("%\n                ")],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleEdit=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.confirmEdit}},[t._v("确 定")])],1)],1)],1),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-dialog",{attrs:{title:"关闭交易",visible:t.dialogFormVisibleCloseTrading},on:{"update:visible":function(e){t.dialogFormVisibleCloseTrading=e}}},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleCloseTrading=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.closeTrading}},[t._v("确 定")])],1)])],1),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-dialog",{attrs:{title:"开启交易",visible:t.dialogFormVisibleOpenTrading},on:{"update:visible":function(e){t.dialogFormVisibleOpenTrading=e}}},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleOpenTrading=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.openTrading}},[t._v("确 定")])],1)])],1),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-dialog",{attrs:{title:"强制平仓",visible:t.dialogFormVisibleForceTrading},on:{"update:visible":function(e){t.dialogFormVisibleForceTrading=e}}},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleForceTrading=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.forceTrading}},[t._v("确 定")])],1)])],1),t._v(" "),o("div",{staticClass:"tableBox"},[o("el-dialog",{attrs:{title:"正常交易",visible:t.dialogFormVisibleTrading},on:{"update:visible":function(e){t.dialogFormVisibleTrading=e}}},[o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleTrading=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.trading}},[t._v("确 定")])],1)])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"content-header"}},[o("div",{attrs:{id:"breadcrumb"}},[o("a",{staticClass:"tip-bottom",attrs:{href:"javascript:;",title:"Go to Home"}},[o("i",{staticClass:"icon-home"}),t._v(" 产品设定")]),t._v(" "),o("a",{staticClass:"current",attrs:{href:"javascript:;"}},[t._v("金权规则设定")])]),t._v(" "),o("h1")])}]}},725:function(t,e,o){var i=o(617);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(197)("34c53c67",i,!0)}});